{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _jsxFileName = \"/Users/loufi/Documents/Epitech/Paas/byop/api/.blitz/caches/dev/pages/_app.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { ErrorComponent, useRouter } from \"blitz\";\nimport { ErrorBoundary } from \"react-error-boundary\";\nimport { queryCache } from \"react-query\";\nimport LoginForm from \"app/auth/components/LoginForm\";\nexport default function App(_ref) {\n  _s();\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n\n  var getLayout = Component.getLayout || function (page) {\n    return page;\n  };\n\n  var router = useRouter();\n  return __jsx(ErrorBoundary, {\n    FallbackComponent: RootErrorFallback,\n    resetKeys: [router.asPath],\n    onReset: function onReset() {\n      // This ensures the Blitz useQuery hooks will automatically refetch\n      // data any time you reset the error boundary\n      queryCache.resetErrorBoundaries();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 5\n    }\n  }, getLayout(__jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 18\n    }\n  }))));\n}\n\n_s(App, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function () {\n  return [useRouter];\n});\n\n_c = App;\n\nfunction RootErrorFallback(_ref2) {\n  var error = _ref2.error,\n      resetErrorBoundary = _ref2.resetErrorBoundary;\n\n  if ((error === null || error === void 0 ? void 0 : error.name) === \"AuthenticationError\") {\n    return __jsx(LoginForm, {\n      onSuccess: resetErrorBoundary,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 12\n      }\n    });\n  } else if ((error === null || error === void 0 ? void 0 : error.name) === \"AuthorizationError\") {\n    return __jsx(ErrorComponent, {\n      statusCode: error.statusCode,\n      title: \"Sorry, you are not authorized to access this\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }\n    });\n  } else {\n    return __jsx(ErrorComponent, {\n      statusCode: (error === null || error === void 0 ? void 0 : error.statusCode) || 400,\n      title: (error === null || error === void 0 ? void 0 : error.message) || (error === null || error === void 0 ? void 0 : error.name),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 7\n      }\n    });\n  }\n}\n\n_c2 = RootErrorFallback;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"RootErrorFallback\");","map":{"version":3,"sources":["/Users/loufi/Documents/Epitech/Paas/byop/api/.blitz/caches/dev/pages/_app.tsx"],"names":["ErrorComponent","useRouter","ErrorBoundary","queryCache","LoginForm","App","Component","pageProps","getLayout","page","router","RootErrorFallback","asPath","resetErrorBoundaries","error","resetErrorBoundary","name","statusCode","message"],"mappings":";;;;;;;AAAA,SAAmBA,cAAnB,EAAmCC,SAAnC,QAAoD,OAApD;AACA,SAASC,aAAT,QAA6C,sBAA7C;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AAEA,eAAe,SAASC,GAAT,OAAiD;AAAA;;AAAA,MAAlCC,SAAkC,QAAlCA,SAAkC;AAAA,MAAvBC,SAAuB,QAAvBA,SAAuB;;AAC9D,MAAMC,SAAS,GAAGF,SAAS,CAACE,SAAV,IAAwB,UAACC,IAAD;AAAA,WAAUA,IAAV;AAAA,GAA1C;;AACA,MAAMC,MAAM,GAAGT,SAAS,EAAxB;AAEA,SACE,MAAC,aAAD;AACE,IAAA,iBAAiB,EAAEU,iBADrB;AAEE,IAAA,SAAS,EAAE,CAACD,MAAM,CAACE,MAAR,CAFb;AAGE,IAAA,OAAO,EAAE,mBAAM;AACb;AACA;AACAT,MAAAA,UAAU,CAACU,oBAAX;AACD,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASGL,SAAS,CAAC,MAAC,SAAD,eAAeD,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD,CATZ,CADF;AAaD;;GAjBuBF,G;UAEPJ,S;;;KAFOI,G;;AAmBxB,SAASM,iBAAT,QAAyE;AAAA,MAA5CG,KAA4C,SAA5CA,KAA4C;AAAA,MAArCC,kBAAqC,SAArCA,kBAAqC;;AACvE,MAAI,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEE,IAAP,MAAgB,qBAApB,EAA2C;AACzC,WAAO,MAAC,SAAD;AAAW,MAAA,SAAS,EAAED,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAEO,IAAI,CAAAD,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEE,IAAP,MAAgB,oBAApB,EAA0C;AAC/C,WACE,MAAC,cAAD;AACE,MAAA,UAAU,EAAGF,KAAD,CAAeG,UAD7B;AAEE,MAAA,KAAK,EAAC,8CAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAMD,GAPM,MAOA;AACL,WACE,MAAC,cAAD;AACE,MAAA,UAAU,EAAE,CAACH,KAAD,aAACA,KAAD,uBAACA,KAAD,CAAgBG,UAAhB,KAA8B,GAD5C;AAEE,MAAA,KAAK,EAAE,CAAAH,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEI,OAAP,MAAkBJ,KAAlB,aAAkBA,KAAlB,uBAAkBA,KAAK,CAAEE,IAAzB,CAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAMD;AACF;;MAlBQL,iB","sourcesContent":["import { AppProps, ErrorComponent, useRouter } from \"blitz\"\nimport { ErrorBoundary, FallbackProps } from \"react-error-boundary\"\nimport { queryCache } from \"react-query\"\nimport LoginForm from \"app/auth/components/LoginForm\"\n\nexport default function App({ Component, pageProps }: AppProps) {\n  const getLayout = Component.getLayout || ((page) => page)\n  const router = useRouter()\n\n  return (\n    <ErrorBoundary\n      FallbackComponent={RootErrorFallback}\n      resetKeys={[router.asPath]}\n      onReset={() => {\n        // This ensures the Blitz useQuery hooks will automatically refetch\n        // data any time you reset the error boundary\n        queryCache.resetErrorBoundaries()\n      }}\n    >\n      {getLayout(<Component {...pageProps} />)}\n    </ErrorBoundary>\n  )\n}\n\nfunction RootErrorFallback({ error, resetErrorBoundary }: FallbackProps) {\n  if (error?.name === \"AuthenticationError\") {\n    return <LoginForm onSuccess={resetErrorBoundary} />\n  } else if (error?.name === \"AuthorizationError\") {\n    return (\n      <ErrorComponent\n        statusCode={(error as any).statusCode}\n        title=\"Sorry, you are not authorized to access this\"\n      />\n    )\n  } else {\n    return (\n      <ErrorComponent\n        statusCode={(error as any)?.statusCode || 400}\n        title={error?.message || error?.name}\n      />\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}