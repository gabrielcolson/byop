{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport { useQuery, useSession } from \"blitz\";\nimport getCurrentUser from \"app/users/queries/getCurrentUser\";\nexport var useCurrentUser = function useCurrentUser() {\n  _s();\n\n  // We wouldn't have to useSession() here, but doing so improves perf on initial\n  // load since we can skip the getCurrentUser() request.\n  var session = useSession();\n\n  var _useQuery = useQuery(getCurrentUser, null, {\n    enabled: !!session.userId\n  }),\n      _useQuery2 = _slicedToArray(_useQuery, 1),\n      user = _useQuery2[0];\n\n  return session.userId ? user : null;\n};\n\n_s(useCurrentUser, \"A5RmCkIpvVqNtEZZ0a7WzqXM3xg=\", false, function () {\n  return [useSession, useQuery];\n});","map":{"version":3,"sources":["/Users/loufi/Documents/Epitech/Paas/byop/api/.blitz/caches/dev/app/hooks/useCurrentUser.ts"],"names":["useQuery","useSession","getCurrentUser","useCurrentUser","session","enabled","userId","user"],"mappings":";;;;AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAEA,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAAA;;AAClC;AACA;AACA,MAAMC,OAAO,GAAGH,UAAU,EAA1B;;AAHkC,kBAInBD,QAAQ,CAACE,cAAD,EAAiB,IAAjB,EAAuB;AAAEG,IAAAA,OAAO,EAAE,CAAC,CAACD,OAAO,CAACE;AAArB,GAAvB,CAJW;AAAA;AAAA,MAI3BC,IAJ2B;;AAKlC,SAAOH,OAAO,CAACE,MAAR,GAAiBC,IAAjB,GAAwB,IAA/B;AACD,CANM;;GAAMJ,c;UAGKF,U,EACDD,Q","sourcesContent":["import { useQuery, useSession } from \"blitz\"\nimport getCurrentUser from \"app/users/queries/getCurrentUser\"\n\nexport const useCurrentUser = () => {\n  // We wouldn't have to useSession() here, but doing so improves perf on initial\n  // load since we can skip the getCurrentUser() request.\n  const session = useSession()\n  const [user] = useQuery(getCurrentUser, null, { enabled: !!session.userId })\n  return session.userId ? user : null\n}\n"]},"metadata":{},"sourceType":"module"}